"use strict";(self.webpackChunkwebsite_admin_app=self.webpackChunkwebsite_admin_app||[]).push([[972],{9972:function(e,t,n){n.r(t),n.d(t,{Component:function(){return j},loader:function(){return g}});var r=n(9439),i=n(4165),a=n(5861),c=n(3051),s=n(2339),u=n(1046),o=n(7309),l=n(6275),d=n(250),p=n(2706),f=n(5171),h=n(6221),x=n(187),Z=n(2791),m=n(7689),v=n(9090),k=n(184),g=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.G$();case 2:return e.t0=e.sent,e.next=5,v.rw();case 5:return e.t1=e.sent,e.abrupt("return",{articles:e.t0,tags:e.t1});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,m.f_)(),t=(0,Z.useState)(e.articles),n=(0,r.Z)(t,2),g=n[0],b=n[1],j=(0,Z.useState)(e.tags),w=(0,r.Z)(j,1)[0],y=(0,Z.useState)(!1),C=(0,r.Z)(y,2),T=C[0],F=C[1],A=(0,Z.useState)(!1),I=(0,r.Z)(A,2),S=I[0],E=I[1],P=c.Z.useForm(),_=(0,r.Z)(P,1)[0],V=(0,m.s0)(),X=[{title:"ID",dataIndex:"id"},{title:"Titles",dataIndex:"title"},{title:"Abstract",dataIndex:"abstract"},{title:"Tags",key:"tags",render:function(e,t){var n=t.tags;return(0,k.jsx)(k.Fragment,{children:n.map((function(e){var t=e.length>5?"geekblue":"green";return(0,k.jsx)(s.Z,{color:t,children:e.toUpperCase()},e)}))})}},{title:"Visibility",key:"visible",render:function(e,t){var n=t.visible;return(0,k.jsx)(s.Z,{color:n?"green":"red",children:n?"TRUE":"FALSE"})}},{title:"Create Time",dataIndex:"createTime"},{title:"Action",key:"action",render:function(e,t){return(0,k.jsxs)(u.Z,{size:"middle",children:[(0,k.jsx)(o.ZP,{onClick:function(){return V("/article/edit/".concat(t.id))},type:"link",children:"Edit Article"}),(0,k.jsx)(o.ZP,{onClick:function(){return O(t)},type:"link",children:"Edit Tags"}),(0,k.jsx)(o.ZP,{type:"link",onClick:function(){return L(t)},children:t.visible?"Hide":"Show"}),(0,k.jsx)(o.ZP,{onClick:function(){return G(t)},type:"link",children:"Delete"})]})}}],D=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.G$();case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){l.Z.confirm({title:"This action is not reversible.",icon:(0,k.jsx)(x.Z,{}),content:(0,k.jsxs)(k.Fragment,{children:["Are you sure to delete this article (".concat(e.title,")?"),(0,k.jsx)("br",{}),"This action is not reversible."]}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.jX(e.id);case 2:D();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})},L=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.Xc(t.id,{visible:!t.visible});case 3:D(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.setFieldValue("id",t.id),_.setFieldValue("tags",t.tags),F(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,v.Xc(t,{tags:n});case 4:F(!1),D(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,E(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.Z,{title:"Articles",extra:(0,k.jsx)(o.ZP,{onClick:function(){return V("/article/add")},children:"Add Article"}),children:(0,k.jsx)(d.Z,{columns:X,dataSource:g,rowKey:"id"})}),(0,k.jsx)(l.Z,{title:"Edit Tag",open:T,onOk:function(){return _.submit()},onCancel:function(){return F(!1)},confirmLoading:S,afterClose:function(){return _.resetFields()},children:(0,k.jsxs)(c.Z,{name:"formEditTags",form:_,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},onFinish:function(e){U(e.id,e.tags)},autoComplete:"off",children:[(0,k.jsx)(c.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,k.jsx)(p.Z,{})}),(0,k.jsx)(c.Z.Item,{label:"Tags",name:"tags",children:(0,k.jsx)(f.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select",options:w.map((function(e){return{label:e.tag,value:e.tag}}))})})]})})]})},j=b;t.default=b}}]);
//# sourceMappingURL=972.5c62115d.chunk.js.map